{"ast":null,"code":"'use strict';\n\nObject.defineProperty(exports, '__esModule', {\n  value: true\n});\n\nfunction _interopDefault(ex) {\n  return ex && typeof ex === 'object' && 'default' in ex ? ex['default'] : ex;\n}\n\nvar React = _interopDefault(require('react'));\n\nfunction _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nfunction _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\n\nfunction _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  return Constructor;\n}\n\nfunction _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n\nfunction _extends() {\n  _extends = Object.assign || function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n\n    return target;\n  };\n\n  return _extends.apply(this, arguments);\n}\n\nfunction ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object);\n\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n    if (enumerableOnly) symbols = symbols.filter(function (sym) {\n      return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n    });\n    keys.push.apply(keys, symbols);\n  }\n\n  return keys;\n}\n\nfunction _objectSpread2(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i] != null ? arguments[i] : {};\n\n    if (i % 2) {\n      ownKeys(source, true).forEach(function (key) {\n        _defineProperty(target, key, source[key]);\n      });\n    } else if (Object.getOwnPropertyDescriptors) {\n      Object.defineProperties(target, Object.getOwnPropertyDescriptors(source));\n    } else {\n      ownKeys(source).forEach(function (key) {\n        Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n      });\n    }\n  }\n\n  return target;\n}\n\nfunction _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function\");\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) _setPrototypeOf(subClass, superClass);\n}\n\nfunction _getPrototypeOf(o) {\n  _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) {\n    return o.__proto__ || Object.getPrototypeOf(o);\n  };\n  return _getPrototypeOf(o);\n}\n\nfunction _setPrototypeOf(o, p) {\n  _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) {\n    o.__proto__ = p;\n    return o;\n  };\n\n  return _setPrototypeOf(o, p);\n}\n\nfunction _objectWithoutPropertiesLoose(source, excluded) {\n  if (source == null) return {};\n  var target = {};\n  var sourceKeys = Object.keys(source);\n  var key, i;\n\n  for (i = 0; i < sourceKeys.length; i++) {\n    key = sourceKeys[i];\n    if (excluded.indexOf(key) >= 0) continue;\n    target[key] = source[key];\n  }\n\n  return target;\n}\n\nfunction _objectWithoutProperties(source, excluded) {\n  if (source == null) return {};\n\n  var target = _objectWithoutPropertiesLoose(source, excluded);\n\n  var key, i;\n\n  if (Object.getOwnPropertySymbols) {\n    var sourceSymbolKeys = Object.getOwnPropertySymbols(source);\n\n    for (i = 0; i < sourceSymbolKeys.length; i++) {\n      key = sourceSymbolKeys[i];\n      if (excluded.indexOf(key) >= 0) continue;\n      if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue;\n      target[key] = source[key];\n    }\n  }\n\n  return target;\n}\n\nfunction _assertThisInitialized(self) {\n  if (self === void 0) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return self;\n}\n\nfunction _possibleConstructorReturn(self, call) {\n  if (call && (typeof call === \"object\" || typeof call === \"function\")) {\n    return call;\n  }\n\n  return _assertThisInitialized(self);\n}\n\nvar pathRegex = /^(.*\\/)([^/]*)$/;\n\nfunction validImgSrc(placeholder) {\n  return placeholder && (pathRegex.test(placeholder) || placeholder.indexOf('data:image') === 0);\n} // \n\n\nfunction parseSrcset(srcset) {\n  var sSources = srcset.match(/\\s*(?:[\\S]*)(?:\\s+(?:-?(?:\\d+(?:\\.(?:\\d+)?)?|\\.\\d+)[a-zA-Z]))?(?:\\s*,)?/g);\n  if (!Array.isArray(sSources)) throw new Error(\"\\uD83D\\uDCA9 srcset is invalid \".concat(JSON.stringify(sSources, null, 2)));\n  var sources = [];\n\n  for (var i = 0; i < sSources.length; i += 1) {\n    var sSource = sSources[i].trim();\n\n    if (sSource.substr(-1) === ',') {\n      sSource = sSource.substr(0, sSource.length - 1).trim();\n    }\n\n    var parts = sSource.split(/\\s+/, 2);\n\n    if (parts.length === 0 || parts.length === 1 && !parts[0] || parts.length === 2 && !parts[0] && !parts[1]) {\n      continue; // eslint-disable-line no-continue\n    }\n\n    var url = parts[0];\n\n    if (parts.length === 1 || parts.length === 2 && !parts[1]) {\n      // If no \"w\" or \"x\" specified, we assume it's \"1x\".\n      sources.push({\n        url: url,\n        width: undefined,\n        dpr: 1\n      });\n    } else {\n      var spec = parts[1].toLowerCase();\n      var lastChar = spec.substring(spec.length - 1);\n\n      if (lastChar === 'w') {\n        sources.push({\n          url: url,\n          width: parseFloat(spec),\n          dpr: undefined\n        });\n      } else if (lastChar === 'x') {\n        sources.push({\n          url: url,\n          width: undefined,\n          dpr: parseFloat(spec)\n        });\n      }\n    }\n  }\n\n  return sources;\n} // \n\n\nvar findClosestDpr = function (result, target) {\n  return result.reduce(function (prev, curr) {\n    return Math.abs(curr.dpr - target) < Math.abs(prev.dpr - target) ? curr : prev;\n  });\n};\n\nfunction filterImgSrc(_ref) {\n  var _ref$dataset = _ref.dataset,\n      src = _ref$dataset.src,\n      srcset = _ref$dataset.srcset;\n  if (!srcset) return src; // $FlowIgnoreLine: DOM api\n\n  var clientWidth = document.documentElement.clientWidth || window.innerWidth; // eslint-disable-line no-undef\n\n  var devicePixelRatio = window.devicePixelRatio; // eslint-disable-line no-undef\n\n  var parsedSrcset = parseSrcset(srcset);\n  var srcInArray = parsedSrcset.map(function (s) {\n    return _objectSpread2({}, s, {}, !s.dpr && s.width ? {\n      dpr: s.width / clientWidth\n    } : null);\n  });\n  var foundSrc = srcInArray.find(function (_ref2) {\n    var dpr = _ref2.dpr;\n    return devicePixelRatio === dpr;\n  });\n  return foundSrc ? foundSrc.url : findClosestDpr(srcInArray, devicePixelRatio).url;\n} // \n\n\nvar fetchImage = function (image, imageSrc) {\n  return new Promise(function (resolve, error) {\n    image.src = imageSrc; // eslint-disable-line no-param-reassign\n\n    image.onload = resolve; // eslint-disable-line no-param-reassign\n\n    image.onerror = error; // eslint-disable-line no-param-reassign\n  });\n}; // \n\n\nfunction applyStyle(target, withoutPlaceholder) {\n  /* eslint-disable */\n  target.style.opacity = withoutPlaceholder ? 1 : 0;\n  /* eslint-enable */\n}\n\nfunction applyImage(target, image, src) {\n  /* eslint-disable */\n  target.src = src;\n  target.style.visibility = 'visible';\n\n  if (target.dataset.srcset) {\n    target.srcset = target.dataset.srcset;\n  }\n\n  var withoutPlaceholder = target.getAttribute('data-placeholder') === 'false';\n  /* eslint-enable */\n\n  var targetElement = withoutPlaceholder ? target : target.nextSibling;\n\n  if (targetElement) {\n    target.addEventListener('load', function () {\n      if (!target) return;\n      applyStyle(targetElement, withoutPlaceholder);\n      target.removeEventListener('load', applyStyle);\n    });\n  }\n\n  window.__REACT_SIMPLE_IMG__.imgLoadingRefs[\"delete\"](target);\n} // \n\n\nfunction logError(message, target) {\n  var e = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : '';\n\n  if (window.__REACT_SIMPLE_IMG__.logConsoleError) {\n    console.error(\"\".concat(message, \"\\n\\n\").concat(target.outerHTML, \"\\n\\nand error message \").concat(e.message));\n  }\n}\n\nfunction setImageHeight(image, target) {\n  image.addEventListener('load', function (e) {\n    target.parentNode.style.height = \"\".concat(e.target.height, \"px\"); // eslint-disable-line\n\n    target.parentNode.style.visibility = 'visible'; // eslint-disable-line\n  });\n} // \n\n\nfunction updateSessionStorage(src) {\n  try {\n    var cachedImages = JSON.parse(window.sessionStorage.getItem('__REACT_SIMPLE_IMG__')) || {};\n    cachedImages[src] = +new Date();\n    window.sessionStorage.setItem('__REACT_SIMPLE_IMG__', JSON.stringify(cachedImages));\n  } catch (e) {\n    logError(\"Error marking image as cached \".concat(e));\n  }\n} // \n\n\nfunction imageLoader(target) {\n  try {\n    var image = new Image(); // eslint-disable-line no-undef\n\n    var _window$__REACT_SIMPL = window.__REACT_SIMPLE_IMG__,\n        observer = _window$__REACT_SIMPL.observer,\n        imgLoadingRefs = _window$__REACT_SIMPL.imgLoadingRefs;\n    var src = filterImgSrc(target);\n    observer.unobserve(target);\n    imgLoadingRefs.set(target, image);\n\n    if (!src) {\n      logError('Filter Image source returned empty image source', target);\n      return;\n    }\n\n    if (target.parentNode && target.parentNode.style.height === '1px') {\n      setImageHeight(image, target);\n    }\n\n    fetchImage(image, src).then(function () {\n      if (target) {\n        applyImage(target, image, src);\n        if (!window.__REACT_SIMPLE_IMG__) return;\n        var _window$__REACT_SIMPL2 = window.__REACT_SIMPLE_IMG__,\n            disableAnimateCachedImg = _window$__REACT_SIMPL2.disableAnimateCachedImg,\n            callBackRefs = _window$__REACT_SIMPL2.callBackRefs;\n\n        if (disableAnimateCachedImg) {\n          updateSessionStorage(src);\n        }\n\n        var callback = callBackRefs.get(target);\n        if (!callback) return;\n        callback();\n        callBackRefs[\"delete\"](target);\n      }\n    })[\"catch\"](function (e) {\n      logError('Fetch image failed with target', target, e);\n    });\n  } catch (e) {\n    logError('Image loader failed with target', target, e);\n  }\n} // \n\n\nvar defaultConfig = {\n  rootMargin: '0px 0px',\n  threshold: [0.0, 0.1, 0.2, 0.3, 0.4, 0.5, 0.6, 0.7, 0.8, 0.9, 1.0]\n};\n\nfunction onIntersection(entries) {\n  for (var i = 0, len = entries.length; i < len; i++) {\n    var _entries$i = entries[i],\n        intersectionRatio = _entries$i.intersectionRatio,\n        target = _entries$i.target;\n\n    if (intersectionRatio > 0) {\n      imageLoader(target);\n    }\n  }\n}\n\nfunction observerStart() {\n  var config = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : defaultConfig;\n  var disableAnimateCachedImg = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n  var logConsoleError = arguments.length > 2 ? arguments[2] : undefined;\n  if (!window.IntersectionObserver) require('intersection-observer'); // $FlowIgnoreLine:\n\n  var observer = new IntersectionObserver(function (entries) {\n    return onIntersection(entries);\n  }, config);\n  window.__REACT_SIMPLE_IMG__ = {\n    observer: observer,\n    imgLoadingRefs: new Map(),\n    callBackRefs: new Map(),\n    disableAnimateCachedImg: disableAnimateCachedImg,\n    logConsoleError: logConsoleError\n  };\n  return undefined;\n} // \n\n\nfunction initSimpleImg() {\n  var config = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : defaultConfig;\n  var disableAnimateCachedImg = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n  var logConsoleError = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : false;\n  if (typeof window === 'undefined') return;\n  observerStart(config, disableAnimateCachedImg, logConsoleError);\n}\n\nvar commonStyle = {\n  position: 'absolute',\n  top: 0,\n  left: 0,\n  width: '100%',\n  height: '100%'\n};\nvar defaultImgPlaceholder = 'data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=';\nvar defaultPlaceholderColor = 'white';\nvar hiddenStyle = {\n  visibility: 'hidden'\n};\nvar expendWidth = {\n  width: '100%'\n};\nvar aspectRatioChildStyle = {\n  width: '100%',\n  height: '100%',\n  position: 'absolute',\n  top: 0,\n  left: 0\n};\nvar wrapperCommonStyle = {\n  position: 'relative',\n  overflow: 'hidden',\n  display: 'flex',\n  flexDirection: 'column',\n  justifyContent: 'center',\n  alignItems: 'center'\n}; // \n\nfunction getAspectRatio(_ref) {\n  var _ref$height = _ref.height,\n      height = _ref$height === void 0 ? 0 : _ref$height,\n      _ref$width = _ref.width,\n      width = _ref$width === void 0 ? 0 : _ref$width,\n      applyAspectRatio = _ref.applyAspectRatio;\n  var aspectRatio = parseInt(height, 10) / parseInt(width, 10);\n  var shouldUseAspectRatio = applyAspectRatio && !isNaN(aspectRatio); // eslint-disable-line\n\n  var aspectRatioStyle = {\n    position: 'relative',\n    display: 'block',\n    paddingBottom: shouldUseAspectRatio ? \"\".concat(Math.abs(aspectRatio * 100), \"%\") : ''\n  };\n  return {\n    shouldUseAspectRatio: shouldUseAspectRatio,\n    aspectRatioStyle: aspectRatioStyle\n  };\n}\n\nvar SimpleImg = /*#__PURE__*/function (_React$PureComponent) {\n  _inherits(SimpleImg, _React$PureComponent);\n\n  function SimpleImg(props) {\n    var _this;\n\n    _classCallCheck(this, SimpleImg);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(SimpleImg).call(this, props));\n\n    _defineProperty(_assertThisInitialized(_this), \"state\", {\n      isDocumentLoad: false,\n      isCached: false\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"element\", React.createRef());\n\n    _defineProperty(_assertThisInitialized(_this), \"setDocumentLoaded\", function () {\n      _this.setState({\n        isDocumentLoad: true\n      });\n    });\n\n    if (typeof window !== 'undefined' && !window.__REACT_SIMPLE_IMG__) {\n      initSimpleImg();\n    }\n\n    return _this;\n  }\n\n  _createClass(SimpleImg, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var src = this.props.src;\n      var element = this.element.current;\n\n      if (window.__REACT_SIMPLE_IMG__.disableAnimateCachedImg && element // && element.getAttribute('data-from-server') === 'no'\n      ) {\n          try {\n            // Browsers with strict privacy settings could throw an error when\n            // attempting to use localStorage and sessionStorage.\n            var cachedImagesRefString = window.sessionStorage.getItem('__REACT_SIMPLE_IMG__');\n            var cachedImagesRef = JSON.parse(cachedImagesRefString) || {};\n\n            if (cachedImagesRef[src]) {\n              this.setState({\n                isCached: true\n              });\n              return;\n            }\n          } catch (e) {\n            logError(\"Error retrieving cached images \".concat(e));\n          }\n        }\n\n      if (document.readyState === 'complete') {\n        this.triggerImageLoadOrObserver();\n      } else {\n        window.addEventListener('load', this.setDocumentLoaded);\n      }\n    }\n  }, {\n    key: \"componentDidUpdate\",\n    value: function componentDidUpdate(prevProps, prevState) {\n      if (!prevState.isDocumentLoad && this.state.isDocumentLoad) {\n        this.triggerImageLoadOrObserver();\n      }\n    }\n  }, {\n    key: \"componentWillUnmount\",\n    value: function componentWillUnmount() {\n      window.removeEventListener('load', this.setDocumentLoaded);\n      if (!this.element.current) return;\n      var element = this.element.current;\n      var _window$__REACT_SIMPL = window.__REACT_SIMPLE_IMG__,\n          observer = _window$__REACT_SIMPL.observer,\n          imgLoadingRefs = _window$__REACT_SIMPL.imgLoadingRefs,\n          callBackRefs = _window$__REACT_SIMPL.callBackRefs;\n      observer.unobserve(element);\n\n      if (imgLoadingRefs.has(element)) {\n        imgLoadingRefs.get(element).src = '';\n        imgLoadingRefs[\"delete\"](element);\n      }\n\n      callBackRefs[\"delete\"](element);\n    }\n  }, {\n    key: \"triggerImageLoadOrObserver\",\n    value: function triggerImageLoadOrObserver() {\n      var _this$props = this.props,\n          importance = _this$props.importance,\n          onComplete = _this$props.onComplete;\n      var _window$__REACT_SIMPL2 = window.__REACT_SIMPLE_IMG__,\n          observer = _window$__REACT_SIMPL2.observer,\n          callBackRefs = _window$__REACT_SIMPL2.callBackRefs;\n\n      if (importance === 'auto') {\n        imageLoader(this.element.current);\n      } else {\n        observer.observe(this.element.current);\n      }\n\n      if (onComplete) callBackRefs.set(this.element.current, onComplete);\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this$props2 = this.props,\n          src = _this$props2.src,\n          className = _this$props2.className,\n          height = _this$props2.height,\n          width = _this$props2.width,\n          alt = _this$props2.alt,\n          srcSet = _this$props2.srcSet,\n          applyAspectRatio = _this$props2.applyAspectRatio,\n          _this$props2$animatio = _this$props2.animationDuration,\n          animationDuration = _this$props2$animatio === void 0 ? 0.3 : _this$props2$animatio,\n          _this$props2$placehol = _this$props2.placeholder,\n          placeholder = _this$props2$placehol === void 0 ? defaultPlaceholderColor : _this$props2$placehol,\n          _this$props2$style = _this$props2.style,\n          style = _this$props2$style === void 0 ? {} : _this$props2$style,\n          restProps = _objectWithoutProperties(_this$props2, [\"src\", \"className\", \"height\", \"width\", \"alt\", \"srcSet\", \"applyAspectRatio\", \"animationDuration\", \"placeholder\", \"style\"]);\n\n      var isCached = this.state.isCached;\n      var disablePlaceholder = placeholder === false;\n      var isValidImgSrc = validImgSrc(placeholder);\n\n      var inlineStyle = _objectSpread2({}, commonStyle, {}, !isValidImgSrc ? {\n        background: placeholder\n      } : null, {\n        transition: \"\".concat(animationDuration, \"s opacity\")\n      });\n\n      var imgPlaceholder = isValidImgSrc ? placeholder : defaultImgPlaceholder;\n      var isSrcSetFulfilled = this.element.current && this.element.current.src !== imgPlaceholder;\n\n      var importance = restProps.importance,\n          onComplete = restProps.onComplete,\n          imgStyle = restProps.imgStyle,\n          restImgProps = _objectWithoutProperties(restProps, [\"importance\", \"onComplete\", \"imgStyle\"]);\n\n      var heightWidth = _objectSpread2({}, height ? {\n        height: style.height || height\n      } : null, {}, width ? {\n        width: style.width || width\n      } : null);\n\n      var isHeightAndWidthNotSet = !height && !width;\n\n      var _getAspectRatio = getAspectRatio({\n        height: height,\n        width: width,\n        applyAspectRatio: applyAspectRatio\n      }),\n          shouldUseAspectRatio = _getAspectRatio.shouldUseAspectRatio,\n          aspectRatioStyle = _getAspectRatio.aspectRatioStyle;\n\n      var imageProps = _objectSpread2({\n        alt: alt,\n        src: isCached ? src : imgPlaceholder,\n        srcSet: isCached ? srcSet : null\n      }, isCached ? null : _objectSpread2({\n        ref: this.element\n      }, disablePlaceholder ? {\n        'data-placeholder': 'false'\n      } : null, {\n        'data-src': src,\n        'data-srcset': srcSet\n      }), {}, restImgProps);\n\n      var noScript = React.createElement(\"noscript\", null, React.createElement(\"img\", {\n        src: src,\n        alt: alt,\n        style: imgStyle,\n        className: className\n      }));\n\n      if (disablePlaceholder && !applyAspectRatio) {\n        return React.createElement(React.Fragment, null, noScript, React.createElement(\"img\", _extends({\n          style: _objectSpread2({}, style, {}, isCached ? null : {\n            transition: \"\".concat(animationDuration, \"s opacity\"),\n            opacity: 0\n          }, {}, imgStyle),\n          className: className\n        }, heightWidth, imageProps)));\n      }\n\n      var placeholderComponent = isValidImgSrc ? React.createElement(\"img\", _extends({\n        style: inlineStyle,\n        src: placeholder,\n        alt: alt\n      }, restImgProps)) : React.createElement(\"div\", {\n        style: inlineStyle\n      });\n\n      if (isCached) {\n        return React.createElement(\"div\", {\n          style: _objectSpread2({}, shouldUseAspectRatio ? aspectRatioStyle : _objectSpread2({}, heightWidth, {}, wrapperCommonStyle, {}, style)),\n          className: className\n        }, React.createElement(\"img\", _extends({\n          style: _objectSpread2({}, isHeightAndWidthNotSet ? expendWidth : heightWidth, {}, shouldUseAspectRatio ? aspectRatioChildStyle : null, {}, imgStyle)\n        }, imageProps)), noScript);\n      }\n\n      return React.createElement(\"div\", {\n        style: _objectSpread2({}, shouldUseAspectRatio ? aspectRatioStyle : _objectSpread2({}, wrapperCommonStyle, {}, height ? {\n          height: height\n        } : {\n          height: 1,\n          visibility: 'hidden'\n        }, {}, style)),\n        className: className\n      }, noScript, React.createElement(\"img\", _extends({\n        style: _objectSpread2({}, isHeightAndWidthNotSet ? expendWidth : heightWidth, {}, !isValidImgSrc && !isSrcSetFulfilled ? hiddenStyle : {}, {}, shouldUseAspectRatio ? aspectRatioChildStyle : null, {}, disablePlaceholder ? {\n          transition: \"\".concat(animationDuration, \"s opacity\"),\n          opacity: 0\n        } : null, {}, imgStyle)\n      }, imageProps)), !disablePlaceholder && placeholderComponent);\n    }\n  }]);\n\n  return SimpleImg;\n}(React.PureComponent);\n\n_defineProperty(SimpleImg, \"defaultProps\", {\n  animationDuration: 0.3,\n  importance: 'low',\n  placeholder: defaultPlaceholderColor\n});\n\nexports.SimpleImg = SimpleImg;\nexports.initSimpleImg = initSimpleImg;","map":{"version":3,"sources":["/Users/flachen/Desktop/bird-app/client/node_modules/react-simple-img/lib/index.js"],"names":["Object","defineProperty","exports","value","_interopDefault","ex","React","require","_classCallCheck","instance","Constructor","TypeError","_defineProperties","target","props","i","length","descriptor","enumerable","configurable","writable","key","_createClass","protoProps","staticProps","prototype","_defineProperty","obj","_extends","assign","arguments","source","hasOwnProperty","call","apply","ownKeys","object","enumerableOnly","keys","getOwnPropertySymbols","symbols","filter","sym","getOwnPropertyDescriptor","push","_objectSpread2","forEach","getOwnPropertyDescriptors","defineProperties","_inherits","subClass","superClass","create","constructor","_setPrototypeOf","_getPrototypeOf","o","setPrototypeOf","getPrototypeOf","__proto__","p","_objectWithoutPropertiesLoose","excluded","sourceKeys","indexOf","_objectWithoutProperties","sourceSymbolKeys","propertyIsEnumerable","_assertThisInitialized","self","ReferenceError","_possibleConstructorReturn","pathRegex","validImgSrc","placeholder","test","parseSrcset","srcset","sSources","match","Array","isArray","Error","concat","JSON","stringify","sources","sSource","trim","substr","parts","split","url","width","undefined","dpr","spec","toLowerCase","lastChar","substring","parseFloat","findClosestDpr","result","reduce","prev","curr","Math","abs","filterImgSrc","_ref","_ref$dataset","dataset","src","clientWidth","document","documentElement","window","innerWidth","devicePixelRatio","parsedSrcset","srcInArray","map","s","foundSrc","find","_ref2","fetchImage","image","imageSrc","Promise","resolve","error","onload","onerror","applyStyle","withoutPlaceholder","style","opacity","applyImage","visibility","getAttribute","targetElement","nextSibling","addEventListener","removeEventListener","__REACT_SIMPLE_IMG__","imgLoadingRefs","logError","message","e","logConsoleError","console","outerHTML","setImageHeight","parentNode","height","updateSessionStorage","cachedImages","parse","sessionStorage","getItem","Date","setItem","imageLoader","Image","_window$__REACT_SIMPL","observer","unobserve","set","then","_window$__REACT_SIMPL2","disableAnimateCachedImg","callBackRefs","callback","get","defaultConfig","rootMargin","threshold","onIntersection","entries","len","_entries$i","intersectionRatio","observerStart","config","IntersectionObserver","Map","initSimpleImg","commonStyle","position","top","left","defaultImgPlaceholder","defaultPlaceholderColor","hiddenStyle","expendWidth","aspectRatioChildStyle","wrapperCommonStyle","overflow","display","flexDirection","justifyContent","alignItems","getAspectRatio","_ref$height","_ref$width","applyAspectRatio","aspectRatio","parseInt","shouldUseAspectRatio","isNaN","aspectRatioStyle","paddingBottom","SimpleImg","_React$PureComponent","_this","isDocumentLoad","isCached","createRef","setState","componentDidMount","element","current","cachedImagesRefString","cachedImagesRef","readyState","triggerImageLoadOrObserver","setDocumentLoaded","componentDidUpdate","prevProps","prevState","state","componentWillUnmount","has","_this$props","importance","onComplete","observe","render","_this$props2","className","alt","srcSet","_this$props2$animatio","animationDuration","_this$props2$placehol","_this$props2$style","restProps","disablePlaceholder","isValidImgSrc","inlineStyle","background","transition","imgPlaceholder","isSrcSetFulfilled","imgStyle","restImgProps","heightWidth","isHeightAndWidthNotSet","_getAspectRatio","imageProps","ref","noScript","createElement","Fragment","placeholderComponent","PureComponent"],"mappings":"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","sourcesContent":["'use strict';\n\nObject.defineProperty(exports, '__esModule', { value: true });\n\nfunction _interopDefault (ex) { return (ex && (typeof ex === 'object') && 'default' in ex) ? ex['default'] : ex; }\n\nvar React = _interopDefault(require('react'));\n\nfunction _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nfunction _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\n\nfunction _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  return Constructor;\n}\n\nfunction _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n\nfunction _extends() {\n  _extends = Object.assign || function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n\n    return target;\n  };\n\n  return _extends.apply(this, arguments);\n}\n\nfunction ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object);\n\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n    if (enumerableOnly) symbols = symbols.filter(function (sym) {\n      return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n    });\n    keys.push.apply(keys, symbols);\n  }\n\n  return keys;\n}\n\nfunction _objectSpread2(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i] != null ? arguments[i] : {};\n\n    if (i % 2) {\n      ownKeys(source, true).forEach(function (key) {\n        _defineProperty(target, key, source[key]);\n      });\n    } else if (Object.getOwnPropertyDescriptors) {\n      Object.defineProperties(target, Object.getOwnPropertyDescriptors(source));\n    } else {\n      ownKeys(source).forEach(function (key) {\n        Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n      });\n    }\n  }\n\n  return target;\n}\n\nfunction _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function\");\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) _setPrototypeOf(subClass, superClass);\n}\n\nfunction _getPrototypeOf(o) {\n  _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) {\n    return o.__proto__ || Object.getPrototypeOf(o);\n  };\n  return _getPrototypeOf(o);\n}\n\nfunction _setPrototypeOf(o, p) {\n  _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) {\n    o.__proto__ = p;\n    return o;\n  };\n\n  return _setPrototypeOf(o, p);\n}\n\nfunction _objectWithoutPropertiesLoose(source, excluded) {\n  if (source == null) return {};\n  var target = {};\n  var sourceKeys = Object.keys(source);\n  var key, i;\n\n  for (i = 0; i < sourceKeys.length; i++) {\n    key = sourceKeys[i];\n    if (excluded.indexOf(key) >= 0) continue;\n    target[key] = source[key];\n  }\n\n  return target;\n}\n\nfunction _objectWithoutProperties(source, excluded) {\n  if (source == null) return {};\n\n  var target = _objectWithoutPropertiesLoose(source, excluded);\n\n  var key, i;\n\n  if (Object.getOwnPropertySymbols) {\n    var sourceSymbolKeys = Object.getOwnPropertySymbols(source);\n\n    for (i = 0; i < sourceSymbolKeys.length; i++) {\n      key = sourceSymbolKeys[i];\n      if (excluded.indexOf(key) >= 0) continue;\n      if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue;\n      target[key] = source[key];\n    }\n  }\n\n  return target;\n}\n\nfunction _assertThisInitialized(self) {\n  if (self === void 0) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return self;\n}\n\nfunction _possibleConstructorReturn(self, call) {\n  if (call && (typeof call === \"object\" || typeof call === \"function\")) {\n    return call;\n  }\n\n  return _assertThisInitialized(self);\n}\n\nvar pathRegex = /^(.*\\/)([^/]*)$/;\nfunction validImgSrc(placeholder) {\n  return placeholder && (pathRegex.test(placeholder) || placeholder.indexOf('data:image') === 0);\n}\n\n// \nfunction parseSrcset(srcset) {\n  var sSources = srcset.match(/\\s*(?:[\\S]*)(?:\\s+(?:-?(?:\\d+(?:\\.(?:\\d+)?)?|\\.\\d+)[a-zA-Z]))?(?:\\s*,)?/g);\n  if (!Array.isArray(sSources)) throw new Error(\"\\uD83D\\uDCA9 srcset is invalid \".concat(JSON.stringify(sSources, null, 2)));\n  var sources = [];\n\n  for (var i = 0; i < sSources.length; i += 1) {\n    var sSource = sSources[i].trim();\n\n    if (sSource.substr(-1) === ',') {\n      sSource = sSource.substr(0, sSource.length - 1).trim();\n    }\n\n    var parts = sSource.split(/\\s+/, 2);\n\n    if (parts.length === 0 || parts.length === 1 && !parts[0] || parts.length === 2 && !parts[0] && !parts[1]) {\n      continue; // eslint-disable-line no-continue\n    }\n\n    var url = parts[0];\n\n    if (parts.length === 1 || parts.length === 2 && !parts[1]) {\n      // If no \"w\" or \"x\" specified, we assume it's \"1x\".\n      sources.push({\n        url: url,\n        width: undefined,\n        dpr: 1\n      });\n    } else {\n      var spec = parts[1].toLowerCase();\n      var lastChar = spec.substring(spec.length - 1);\n\n      if (lastChar === 'w') {\n        sources.push({\n          url: url,\n          width: parseFloat(spec),\n          dpr: undefined\n        });\n      } else if (lastChar === 'x') {\n        sources.push({\n          url: url,\n          width: undefined,\n          dpr: parseFloat(spec)\n        });\n      }\n    }\n  }\n\n  return sources;\n}\n\n// \nvar findClosestDpr = (function (result, target) {\n  return result.reduce(function (prev, curr) {\n    return Math.abs(curr.dpr - target) < Math.abs(prev.dpr - target) ? curr : prev;\n  });\n});\n\nfunction filterImgSrc(_ref) {\n  var _ref$dataset = _ref.dataset,\n      src = _ref$dataset.src,\n      srcset = _ref$dataset.srcset;\n  if (!srcset) return src; // $FlowIgnoreLine: DOM api\n\n  var clientWidth = document.documentElement.clientWidth || window.innerWidth; // eslint-disable-line no-undef\n\n  var devicePixelRatio = window.devicePixelRatio; // eslint-disable-line no-undef\n\n  var parsedSrcset = parseSrcset(srcset);\n  var srcInArray = parsedSrcset.map(function (s) {\n    return _objectSpread2({}, s, {}, !s.dpr && s.width ? {\n      dpr: s.width / clientWidth\n    } : null);\n  });\n  var foundSrc = srcInArray.find(function (_ref2) {\n    var dpr = _ref2.dpr;\n    return devicePixelRatio === dpr;\n  });\n  return foundSrc ? foundSrc.url : findClosestDpr(srcInArray, devicePixelRatio).url;\n}\n\n// \nvar fetchImage = (function (image, imageSrc) {\n  return new Promise(function (resolve, error) {\n    image.src = imageSrc; // eslint-disable-line no-param-reassign\n\n    image.onload = resolve; // eslint-disable-line no-param-reassign\n\n    image.onerror = error; // eslint-disable-line no-param-reassign\n  });\n});\n\n// \nfunction applyStyle(target, withoutPlaceholder) {\n  /* eslint-disable */\n  target.style.opacity = withoutPlaceholder ? 1 : 0;\n  /* eslint-enable */\n}\nfunction applyImage(target, image, src) {\n  /* eslint-disable */\n  target.src = src;\n  target.style.visibility = 'visible';\n\n  if (target.dataset.srcset) {\n    target.srcset = target.dataset.srcset;\n  }\n\n  var withoutPlaceholder = target.getAttribute('data-placeholder') === 'false';\n  /* eslint-enable */\n\n  var targetElement = withoutPlaceholder ? target : target.nextSibling;\n\n  if (targetElement) {\n    target.addEventListener('load', function () {\n      if (!target) return;\n      applyStyle(targetElement, withoutPlaceholder);\n      target.removeEventListener('load', applyStyle);\n    });\n  }\n\n  window.__REACT_SIMPLE_IMG__.imgLoadingRefs[\"delete\"](target);\n}\n\n// \nfunction logError(message, target) {\n  var e = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : '';\n\n  if (window.__REACT_SIMPLE_IMG__.logConsoleError) {\n    console.error(\"\".concat(message, \"\\n\\n\").concat(target.outerHTML, \"\\n\\nand error message \").concat(e.message));\n  }\n}\n\nfunction setImageHeight(image, target) {\n  image.addEventListener('load', function (e) {\n    target.parentNode.style.height = \"\".concat(e.target.height, \"px\"); // eslint-disable-line\n\n    target.parentNode.style.visibility = 'visible'; // eslint-disable-line\n  });\n}\n\n// \nfunction updateSessionStorage(src) {\n  try {\n    var cachedImages = JSON.parse(window.sessionStorage.getItem('__REACT_SIMPLE_IMG__')) || {};\n    cachedImages[src] = +new Date();\n    window.sessionStorage.setItem('__REACT_SIMPLE_IMG__', JSON.stringify(cachedImages));\n  } catch (e) {\n    logError(\"Error marking image as cached \".concat(e));\n  }\n}\n\n// \nfunction imageLoader(target) {\n  try {\n    var image = new Image(); // eslint-disable-line no-undef\n\n    var _window$__REACT_SIMPL = window.__REACT_SIMPLE_IMG__,\n        observer = _window$__REACT_SIMPL.observer,\n        imgLoadingRefs = _window$__REACT_SIMPL.imgLoadingRefs;\n    var src = filterImgSrc(target);\n    observer.unobserve(target);\n    imgLoadingRefs.set(target, image);\n\n    if (!src) {\n      logError('Filter Image source returned empty image source', target);\n      return;\n    }\n\n    if (target.parentNode && target.parentNode.style.height === '1px') {\n      setImageHeight(image, target);\n    }\n\n    fetchImage(image, src).then(function () {\n      if (target) {\n        applyImage(target, image, src);\n        if (!window.__REACT_SIMPLE_IMG__) return;\n        var _window$__REACT_SIMPL2 = window.__REACT_SIMPLE_IMG__,\n            disableAnimateCachedImg = _window$__REACT_SIMPL2.disableAnimateCachedImg,\n            callBackRefs = _window$__REACT_SIMPL2.callBackRefs;\n\n        if (disableAnimateCachedImg) {\n          updateSessionStorage(src);\n        }\n\n        var callback = callBackRefs.get(target);\n        if (!callback) return;\n        callback();\n        callBackRefs[\"delete\"](target);\n      }\n    })[\"catch\"](function (e) {\n      logError('Fetch image failed with target', target, e);\n    });\n  } catch (e) {\n    logError('Image loader failed with target', target, e);\n  }\n}\n\n// \nvar defaultConfig = {\n  rootMargin: '0px 0px',\n  threshold: [0.0, 0.1, 0.2, 0.3, 0.4, 0.5, 0.6, 0.7, 0.8, 0.9, 1.0]\n};\nfunction onIntersection(entries) {\n  for (var i = 0, len = entries.length; i < len; i++) {\n    var _entries$i = entries[i],\n        intersectionRatio = _entries$i.intersectionRatio,\n        target = _entries$i.target;\n\n    if (intersectionRatio > 0) {\n      imageLoader(target);\n    }\n  }\n}\nfunction observerStart() {\n  var config = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : defaultConfig;\n  var disableAnimateCachedImg = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n  var logConsoleError = arguments.length > 2 ? arguments[2] : undefined;\n  if (!window.IntersectionObserver) require('intersection-observer'); // $FlowIgnoreLine:\n\n  var observer = new IntersectionObserver(function (entries) {\n    return onIntersection(entries);\n  }, config);\n  window.__REACT_SIMPLE_IMG__ = {\n    observer: observer,\n    imgLoadingRefs: new Map(),\n    callBackRefs: new Map(),\n    disableAnimateCachedImg: disableAnimateCachedImg,\n    logConsoleError: logConsoleError\n  };\n  return undefined;\n}\n\n// \nfunction initSimpleImg() {\n  var config = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : defaultConfig;\n  var disableAnimateCachedImg = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n  var logConsoleError = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : false;\n  if (typeof window === 'undefined') return;\n  observerStart(config, disableAnimateCachedImg, logConsoleError);\n}\n\nvar commonStyle = {\n  position: 'absolute',\n  top: 0,\n  left: 0,\n  width: '100%',\n  height: '100%'\n};\nvar defaultImgPlaceholder = 'data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=';\nvar defaultPlaceholderColor = 'white';\nvar hiddenStyle = {\n  visibility: 'hidden'\n};\nvar expendWidth = {\n  width: '100%'\n};\nvar aspectRatioChildStyle = {\n  width: '100%',\n  height: '100%',\n  position: 'absolute',\n  top: 0,\n  left: 0\n};\nvar wrapperCommonStyle = {\n  position: 'relative',\n  overflow: 'hidden',\n  display: 'flex',\n  flexDirection: 'column',\n  justifyContent: 'center',\n  alignItems: 'center'\n};\n\n// \nfunction getAspectRatio(_ref) {\n  var _ref$height = _ref.height,\n      height = _ref$height === void 0 ? 0 : _ref$height,\n      _ref$width = _ref.width,\n      width = _ref$width === void 0 ? 0 : _ref$width,\n      applyAspectRatio = _ref.applyAspectRatio;\n  var aspectRatio = parseInt(height, 10) / parseInt(width, 10);\n  var shouldUseAspectRatio = applyAspectRatio && !isNaN(aspectRatio); // eslint-disable-line\n\n  var aspectRatioStyle = {\n    position: 'relative',\n    display: 'block',\n    paddingBottom: shouldUseAspectRatio ? \"\".concat(Math.abs(aspectRatio * 100), \"%\") : ''\n  };\n  return {\n    shouldUseAspectRatio: shouldUseAspectRatio,\n    aspectRatioStyle: aspectRatioStyle\n  };\n}\n\nvar SimpleImg =\n/*#__PURE__*/\nfunction (_React$PureComponent) {\n  _inherits(SimpleImg, _React$PureComponent);\n\n  function SimpleImg(props) {\n    var _this;\n\n    _classCallCheck(this, SimpleImg);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(SimpleImg).call(this, props));\n\n    _defineProperty(_assertThisInitialized(_this), \"state\", {\n      isDocumentLoad: false,\n      isCached: false\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"element\", React.createRef());\n\n    _defineProperty(_assertThisInitialized(_this), \"setDocumentLoaded\", function () {\n      _this.setState({\n        isDocumentLoad: true\n      });\n    });\n\n    if (typeof window !== 'undefined' && !window.__REACT_SIMPLE_IMG__) {\n      initSimpleImg();\n    }\n\n    return _this;\n  }\n\n  _createClass(SimpleImg, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var src = this.props.src;\n      var element = this.element.current;\n\n      if (window.__REACT_SIMPLE_IMG__.disableAnimateCachedImg && element // && element.getAttribute('data-from-server') === 'no'\n      ) {\n          try {\n            // Browsers with strict privacy settings could throw an error when\n            // attempting to use localStorage and sessionStorage.\n            var cachedImagesRefString = window.sessionStorage.getItem('__REACT_SIMPLE_IMG__');\n            var cachedImagesRef = JSON.parse(cachedImagesRefString) || {};\n\n            if (cachedImagesRef[src]) {\n              this.setState({\n                isCached: true\n              });\n              return;\n            }\n          } catch (e) {\n            logError(\"Error retrieving cached images \".concat(e));\n          }\n        }\n\n      if (document.readyState === 'complete') {\n        this.triggerImageLoadOrObserver();\n      } else {\n        window.addEventListener('load', this.setDocumentLoaded);\n      }\n    }\n  }, {\n    key: \"componentDidUpdate\",\n    value: function componentDidUpdate(prevProps, prevState) {\n      if (!prevState.isDocumentLoad && this.state.isDocumentLoad) {\n        this.triggerImageLoadOrObserver();\n      }\n    }\n  }, {\n    key: \"componentWillUnmount\",\n    value: function componentWillUnmount() {\n      window.removeEventListener('load', this.setDocumentLoaded);\n      if (!this.element.current) return;\n      var element = this.element.current;\n      var _window$__REACT_SIMPL = window.__REACT_SIMPLE_IMG__,\n          observer = _window$__REACT_SIMPL.observer,\n          imgLoadingRefs = _window$__REACT_SIMPL.imgLoadingRefs,\n          callBackRefs = _window$__REACT_SIMPL.callBackRefs;\n      observer.unobserve(element);\n\n      if (imgLoadingRefs.has(element)) {\n        imgLoadingRefs.get(element).src = '';\n        imgLoadingRefs[\"delete\"](element);\n      }\n\n      callBackRefs[\"delete\"](element);\n    }\n  }, {\n    key: \"triggerImageLoadOrObserver\",\n    value: function triggerImageLoadOrObserver() {\n      var _this$props = this.props,\n          importance = _this$props.importance,\n          onComplete = _this$props.onComplete;\n      var _window$__REACT_SIMPL2 = window.__REACT_SIMPLE_IMG__,\n          observer = _window$__REACT_SIMPL2.observer,\n          callBackRefs = _window$__REACT_SIMPL2.callBackRefs;\n\n      if (importance === 'auto') {\n        imageLoader(this.element.current);\n      } else {\n        observer.observe(this.element.current);\n      }\n\n      if (onComplete) callBackRefs.set(this.element.current, onComplete);\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this$props2 = this.props,\n          src = _this$props2.src,\n          className = _this$props2.className,\n          height = _this$props2.height,\n          width = _this$props2.width,\n          alt = _this$props2.alt,\n          srcSet = _this$props2.srcSet,\n          applyAspectRatio = _this$props2.applyAspectRatio,\n          _this$props2$animatio = _this$props2.animationDuration,\n          animationDuration = _this$props2$animatio === void 0 ? 0.3 : _this$props2$animatio,\n          _this$props2$placehol = _this$props2.placeholder,\n          placeholder = _this$props2$placehol === void 0 ? defaultPlaceholderColor : _this$props2$placehol,\n          _this$props2$style = _this$props2.style,\n          style = _this$props2$style === void 0 ? {} : _this$props2$style,\n          restProps = _objectWithoutProperties(_this$props2, [\"src\", \"className\", \"height\", \"width\", \"alt\", \"srcSet\", \"applyAspectRatio\", \"animationDuration\", \"placeholder\", \"style\"]);\n\n      var isCached = this.state.isCached;\n      var disablePlaceholder = placeholder === false;\n      var isValidImgSrc = validImgSrc(placeholder);\n\n      var inlineStyle = _objectSpread2({}, commonStyle, {}, !isValidImgSrc ? {\n        background: placeholder\n      } : null, {\n        transition: \"\".concat(animationDuration, \"s opacity\")\n      });\n\n      var imgPlaceholder = isValidImgSrc ? placeholder : defaultImgPlaceholder;\n      var isSrcSetFulfilled = this.element.current && this.element.current.src !== imgPlaceholder;\n\n      var importance = restProps.importance,\n          onComplete = restProps.onComplete,\n          imgStyle = restProps.imgStyle,\n          restImgProps = _objectWithoutProperties(restProps, [\"importance\", \"onComplete\", \"imgStyle\"]);\n\n      var heightWidth = _objectSpread2({}, height ? {\n        height: style.height || height\n      } : null, {}, width ? {\n        width: style.width || width\n      } : null);\n\n      var isHeightAndWidthNotSet = !height && !width;\n\n      var _getAspectRatio = getAspectRatio({\n        height: height,\n        width: width,\n        applyAspectRatio: applyAspectRatio\n      }),\n          shouldUseAspectRatio = _getAspectRatio.shouldUseAspectRatio,\n          aspectRatioStyle = _getAspectRatio.aspectRatioStyle;\n\n      var imageProps = _objectSpread2({\n        alt: alt,\n        src: isCached ? src : imgPlaceholder,\n        srcSet: isCached ? srcSet : null\n      }, isCached ? null : _objectSpread2({\n        ref: this.element\n      }, disablePlaceholder ? {\n        'data-placeholder': 'false'\n      } : null, {\n        'data-src': src,\n        'data-srcset': srcSet\n      }), {}, restImgProps);\n\n      var noScript = React.createElement(\"noscript\", null, React.createElement(\"img\", {\n        src: src,\n        alt: alt,\n        style: imgStyle,\n        className: className\n      }));\n\n      if (disablePlaceholder && !applyAspectRatio) {\n        return React.createElement(React.Fragment, null, noScript, React.createElement(\"img\", _extends({\n          style: _objectSpread2({}, style, {}, isCached ? null : {\n            transition: \"\".concat(animationDuration, \"s opacity\"),\n            opacity: 0\n          }, {}, imgStyle),\n          className: className\n        }, heightWidth, imageProps)));\n      }\n\n      var placeholderComponent = isValidImgSrc ? React.createElement(\"img\", _extends({\n        style: inlineStyle,\n        src: placeholder,\n        alt: alt\n      }, restImgProps)) : React.createElement(\"div\", {\n        style: inlineStyle\n      });\n\n      if (isCached) {\n        return React.createElement(\"div\", {\n          style: _objectSpread2({}, shouldUseAspectRatio ? aspectRatioStyle : _objectSpread2({}, heightWidth, {}, wrapperCommonStyle, {}, style)),\n          className: className\n        }, React.createElement(\"img\", _extends({\n          style: _objectSpread2({}, isHeightAndWidthNotSet ? expendWidth : heightWidth, {}, shouldUseAspectRatio ? aspectRatioChildStyle : null, {}, imgStyle)\n        }, imageProps)), noScript);\n      }\n\n      return React.createElement(\"div\", {\n        style: _objectSpread2({}, shouldUseAspectRatio ? aspectRatioStyle : _objectSpread2({}, wrapperCommonStyle, {}, height ? {\n          height: height\n        } : {\n          height: 1,\n          visibility: 'hidden'\n        }, {}, style)),\n        className: className\n      }, noScript, React.createElement(\"img\", _extends({\n        style: _objectSpread2({}, isHeightAndWidthNotSet ? expendWidth : heightWidth, {}, !isValidImgSrc && !isSrcSetFulfilled ? hiddenStyle : {}, {}, shouldUseAspectRatio ? aspectRatioChildStyle : null, {}, disablePlaceholder ? {\n          transition: \"\".concat(animationDuration, \"s opacity\"),\n          opacity: 0\n        } : null, {}, imgStyle)\n      }, imageProps)), !disablePlaceholder && placeholderComponent);\n    }\n  }]);\n\n  return SimpleImg;\n}(React.PureComponent);\n\n_defineProperty(SimpleImg, \"defaultProps\", {\n  animationDuration: 0.3,\n  importance: 'low',\n  placeholder: defaultPlaceholderColor\n});\n\nexports.SimpleImg = SimpleImg;\nexports.initSimpleImg = initSimpleImg;\n"]},"metadata":{},"sourceType":"script"}